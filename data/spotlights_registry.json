{
    "schema_version": "2025-12-14-spotlights-registry-1",
    "catalogue": [
        {
            "key": "media",
            "title": "In The News",
            "description": "A selection of the more salacious or entertaining press articles featuring our forefathers.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/newspaper.svg",
            "sort": 0
        },
        {
            "key": "children",
            "title": "Most Children",
            "description": "Our ancestor with the most children",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/baby.svg",
            "sort": 0
        },
        {
            "key": "unions",
            "title": "Most Relationships",
            "description": "Our ancestor with the most relationships.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/heart-straight.svg",
            "sort": 0
        },
        {
            "key": "places",
            "title": "Notable Places",
            "description": "Some of the quirky, disreputable, or famous locations where one or more of our ancestors lived",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/map-pin.svg",
            "sort": 0
        },
        {
            "key": "zodiac",
            "title": "Star Signs",
            "description": "A light-hearted grouping of our ancestors by star sign.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/star.svg",
            "sort": 0
        },
        {
            "key": "deaths",
            "title": "Strange Deaths",
            "description": "Some of the most unusual causes of death or death locations.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/skull.svg",
            "sort": 0
        },
        {
            "key": "plantaganet",
            "title": "The Royal Connection",
            "description": "Our links to Edward Plantagenet.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/crown.svg",
            "sort": 0
        },
        {
            "key": "events",
            "title": "They Were There",
            "description": "Some of the historical events in which an ancestor was a verified participant.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/flag-banner.svg",
            "sort": 0
        },
        {
            "key": "crime",
            "title": "Wrong Side of The Law",
            "description": "A collection of criminal acts committed by our forefathers.",
            "status": "planned",
            "icon": "assets/img/icons/phosphor/gavel.svg",
            "sort": 0
        },
        {
            "key": "longest_lived",
            "title": "Longest-lived ancestors",
            "description": "Blood relations only. Overall male and female, plus by-branch male and female.",
            "status": "implemented",
            "icon": "assets/img/icons/phosphor/hourglass.svg",
            "sort": 10
        }
    ],
    "defaults": {
        "tree": "Gilroy1",
        "output_root": "/spotlights",
        "source_root": "/data/spotlights",
        "generated_note": "Generated by JWG Spotlight Manager"
    },
    "spotlights": [
        {
            "type": "oldest_ancestor",
            "catalog_key": "longest_lived",
            "label": "Oldest ancestors",
            "category": "Longevity",
            "mode": "pipeline",
            "description": "Generate \u2018oldest known ancestor\u2019 spotlights from oldest-ancestor stats, then build a snapshot spotlight page for the selected person.",
            "scripts": {
                "build_source": {
                    "kind": "php",
                    "entry": "/spotlights/find_oldest_ancestors.php",
                    "produces": {
                        "format": "json",
                        "path_template": "/output/spotlights/oldest_ancestors_{scope}{scope_key_opt}.json"
                    }
                }
            },
            "parameters": [
                {
                    "key": "scope",
                    "label": "Scope",
                    "type": "enum",
                    "required": true,
                    "default": "overall",
                    "options": [
                        {
                            "value": "overall",
                            "label": "Whole tree"
                        },
                        {
                            "value": "branch",
                            "label": "Specific branch"
                        }
                    ]
                },
                {
                    "key": "scope_key",
                    "label": "Branch",
                    "type": "string",
                    "required_if": {
                        "scope": "branch"
                    },
                    "placeholder": "e.g. Gilroy"
                }
            ],
            "subject_picker": {
                "from_source_json": true,
                "candidates": [
                    {
                        "key": "oldest_female",
                        "label": "Oldest female",
                        "person_id_path": "$.oldest_female.personID",
                        "name_path": "$.oldest_female.name",
                        "metric_path": "$.oldest_female.age_total_days",
                        "title_path": "$.oldest_female.title"
                    },
                    {
                        "key": "oldest_male",
                        "label": "Oldest male",
                        "person_id_path": "$.oldest_male.personID",
                        "name_path": "$.oldest_male.name",
                        "metric_path": "$.oldest_male.age_total_days",
                        "title_path": "$.oldest_male.title"
                    }
                ]
            },
            "pipeline": {
                "phase_mode": "snapshot",
                "stat_block": {
                    "type": "oldest_ancestor",
                    "scope_from_param": "scope",
                    "scope_key_from_param": "scope_key",
                    "label_from_source": true,
                    "source_file_from_script_output": true,
                    "catalog_key_from_registry": true
                },
                "layout_class": "layout-oldest"
            },
            "outputs": {
                "html": {
                    "path_template": "/spotlights/oldest/{scope}{scope_key_opt}/{personID}.html"
                }
            }
        }
    ],
    "helpers": {
        "template_tokens": {
            "scope_key_opt": {
                "description": "Empty when scope_key is blank, otherwise '_' + scope_key",
                "example_blank": "",
                "example_present": "_Gilroy"
            }
        },
        "json_path_notes": [
            "person_id_path/name_path/metric_path/title_path are simple JSONPath-ish pointers used by the UI to extract candidates from source JSON."
        ]
    }
}